---
import BaseHead from "@components/BaseHead.astro"
import Header from "@components/Header.astro"
import Footer from "@components/Footer.astro"
import FormattedDate from "@components/FormattedDate.astro"

import { slide } from "astro:transitions"

interface Props {
	post: any
}

const { post } = Astro.props
---

<html lang="en">
	<head>
		<BaseHead title={post.data.title} description={post.data.description} />
		<style>
			.img {
				margin-bottom: 10px;
				height: 160px;
				width: 100%;
				background-image: var(--src);
				box-shadow: inset 0px 0px 0px 1px #ffffff36;
				border-radius: 10px;
				background-size: cover;
				background-position: center;
			}
		</style>
	</head>

	<body>
		<Header />
		<div class="img" transition:animate="slide" transition:name={post.data.heroImage} transition:persist style={`--src: url("${post.data.heroImage}")`} />
		<FormattedDate
			date={post.data.pubDate}
			transition:animate={slide({ duration: 1 })}
			transition:name={post.data.pubDate.toString()}
			transition:persist
		/>
		{
			post.data.updatedDate && (
				<div class="last-updated-on">
					Last updated on <FormattedDate date={post.data.updatedDate} />
				</div>
			)
		}
		<h1 transition:animate={slide({ duration: 1 })} transition:name={post.data.title} transition:persist>{post.data.title}</h1>
		<slot />
		<Footer />
	</body>
</html>
